<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial of Submission &mdash; Competition beta documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Competition Rules and Regulations" href="rules.html" />
    <link rel="prev" title="Conceptual Overview of DRAGG" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Competition
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Conceptual Overview of DRAGG</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial of Submission</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-your-submission">Creating your submission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-reward-function">The reward function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-predict-function">The predict function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing-your-submission-locally">Testing your submission (locally)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submitting-and-receiving-official-feedback">Submitting and receiving official feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rules.html">Competition Rules and Regulations</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Competition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Tutorial of Submission</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="tutorial-of-submission">
<h1>Tutorial of Submission<a class="headerlink" href="#tutorial-of-submission" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>You MUST register your team with the competition hosts. Please email <a class="reference external" href="mailto:cugriffinlab&#37;&#52;&#48;gmail&#46;com">cugriffinlab<span>&#64;</span>gmail<span>&#46;</span>com</a> with:</p>
<blockquote>
<div><ul class="simple">
<li><p>Your team name</p></li>
<li><p>The names of all teammates</p></li>
<li><p>The GitHub usernames of all teammates. If you do not have a GitHub account, create one <a class="reference external" href="https://github.com/join">here</a>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>This competition will use <a class="reference external" href="https://github.com/about">github</a> to track submissions and <a class="reference external" href="https://docs.docker.com/get-started/overview/">docker</a> to ensure consistency/fairness of simulation enviornments accross participants. Do not worry if this is your first time hearing about either of these, we will be providing step-by-step instructions for their usage.</p>
<blockquote>
<div><ul class="simple">
<li><p>Download and configure git following <a class="reference external" href="https://docs.github.com/en/get-started/quickstart/set-up-git">these instructions</a>.</p></li>
<li><p>Test your configuration by opening the Terminal (Mac) or PowerShell (Windows) application and copy and paste <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">--version</span></code> into the window. After pressing &lt;Enter&gt;, the current version of git should be printed. If not, email <a class="reference external" href="mailto:cugriffinlab&#37;&#52;&#48;gmail&#46;com">cugriffinlab<span>&#64;</span>gmail<span>&#46;</span>com</a> for help.</p></li>
<li><p>Download and configure docker desktop by following <a class="reference external" href="https://docs.docker.com/desktop/install/mac-install/">these instructions for mac</a> or <a class="reference external" href="https://docs.docker.com/desktop/install/windows-install/">these instructions for windows</a>.</p></li>
<li><p>Test your configuration by opening the Terminal (Mac) or PowerShell (Windows) application and copy and paste <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">--version</span></code> into the window. After pressing &lt;Enter&gt;, the current version of docker should be printed. If not, email <a class="reference external" href="mailto:cugriffinlab&#37;&#52;&#48;gmail&#46;com">cugriffinlab<span>&#64;</span>gmail<span>&#46;</span>com</a> for help.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Wait for us to make you a shiny new submission repository! For security purposes, it is important that we maintain ownership of the repository, so we will let you know when one is created for you (we will aim to do so within 1 day of your request to join).</p></li>
<li><p>Copy the repository from GitHub to your computer using git clone:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/cugriffinlab/YOUR-USERNAME-gnomes</span></code>. This will create a folder called your-username-gnomes with all the files in the your-username-gnomes repository</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Edit the submission file as described below and then commit/push them to your GitHub repository:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">commit</span> <span class="pre">submission/submission.py</span> <span class="pre">-m</span> <span class="pre">“Custom</span> <span class="pre">message</span> <span class="pre">about</span> <span class="pre">improvement”</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">push</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="creating-your-submission">
<h2>Creating your submission<a class="headerlink" href="#creating-your-submission" title="Permalink to this headline">¶</a></h2>
<p>For a complete submission you should customize the <cite>reward()</cite> function to evaluate performance and the <cite>predict()</cite> function to determine the action to take. In both of these functions you may use any of the available observations about your home. Here is a list of the valid keys to <cite>home.obs_dict</cite>.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>“t_in_current”, current indoor temperature (deg C)</p></li>
<li><p>“t_out_current”, current indoor temperature (deg C)</p></li>
<li><p>“t_out_6hr”, predicted outdoor temperature in 6 hrs (deg C)</p></li>
<li><p>“t_out_12hr”, predicted outdoor temperature in 12 hrs (deg C)</p></li>
<li><p>“h_out”, current outdoor humidity (%)</p></li>
<li><p>“h_out_6hr”, predicted outdoor humidity in 6 hrs (%)</p></li>
<li><p>“h_out_12hr”, predicted outdoor humidity in 12 hrs (%)</p></li>
<li><p>“time_of_day”, time of day (0-24)</p></li>
<li><p>“day_of_week”, day of week (0-6)</p></li>
<li><p>“occupancy”, true/false value for occupancy status</p></li>
<li><p>“my_demand”, current net electric consumption (kW)</p></li>
</ol>
</div></blockquote>
<div class="section" id="the-reward-function">
<h3>The reward function<a class="headerlink" href="#the-reward-function" title="Permalink to this headline">¶</a></h3>
<p>While the GNOMES competition will provide holistic feedback on your performance, the <cite>reward(home)</cite> function can be useful to provide step-by-step feedback on performance. This is similar to how the machine learning algorithm “Reinforcement Learning” works: certain observations and actions can be categorized as “good” or “bad” (or anywhere in between) via the reward observed and you can build intuition without exact knowledge.</p>
<p>For example, let’s say the competition reward algorithm was very complicated and nearly impossible to model but you notice it is strongly correlated with a low amount of energy consumed at any given timestep. You can “grade” your agent based off a very simple reward function such as:</p>
<p><code class="docutils literal notranslate"><span class="pre">reward</span> <span class="pre">=</span> <span class="pre">-1</span> <span class="pre">*</span> <span class="pre">home.obs_dict[&quot;my_demand&quot;]</span></code></p>
<p>We encourage you to try other transformations to get your home working well. You might look into different optimization objectives that you think could work to approximate the goals of the competition.</p>
</div>
<div class="section" id="the-predict-function">
<h3>The predict function<a class="headerlink" href="#the-predict-function" title="Permalink to this headline">¶</a></h3>
<p>The <cite>predict(home)</cite> function is more directly related to the performance of the agent and provides the action to be performed at the next timestep. You are predicting the best action(s) to take. The output in three parts describes the action for:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The HVAC setpoint</p></li>
<li><p>The water heater on/off status</p></li>
<li><p>The electric vehicle charge command</p></li>
</ol>
</div></blockquote>
<p>The resulting action should be a list (or array) that is 3 entries long, and each entry should be a number between [-1,1]. For the HVAC this will change the setpoint between the lowest possible value and the highest possible value. For the water heater a low value (-1) will turn the water heater off, and a high value will turn the water heater on whenever possible, intermediate values will correspond to being on part of the time interval (e.g. 0 corresponds to a 50% duty cycle over the 15 minute interval). For the electric vehicle the charge is interpolated between the maximum possible charge (+5kW) and the maximum possible discharge (-5kW).</p>
<p>Once you change the submission/submission.py file no further changes need to be made. To be clear: you should only change the contents of submission.py; submission.py is the only file you are allowed to change and it is the only change that will be applicable to the competition performance.</p>
</div>
</div>
<div class="section" id="testing-your-submission-locally">
<h2>Testing your submission (locally)<a class="headerlink" href="#testing-your-submission-locally" title="Permalink to this headline">¶</a></h2>
<p>To test your agent you can run the same simulation setup as the official competition on sandbox data. In real life you won’t be able to test performance on the real (future) weather data before deployment, you only have data from the past. Therefore the data we use to officially score you will be “new”, never seen before weather data (but with the same location and weather trends).</p>
<blockquote>
<div><ul>
<li><p>The steps to ensure the submission file is valid (i.e. no changes have been made that will break the submission):</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Open the Terminal (Mac) or Command Prompt (Windows) application and copy and paste the following commands into the window. Each time press &lt;Enter&gt; to run the command.</p>
<ul class="simple">
<li><p>Optional: Change into the Documents folder. When you open Terminal/Command you will likely be in the home (or ‘C://’ drive), but you can change to Documents with <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">Documents</span></code></p></li>
</ul>
</li>
<li><p>Clone the repository using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/cugriffinlab/your-username-gnomes.git</span></code></p></li>
<li><p>Change to the current working directory using <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">your-username-gnomes</span></code></p></li>
<li><p>Build the tests using <code class="docutils literal notranslate"><span class="pre">docker-compose</span> <span class="pre">-f</span> <span class="pre">./testing/docker-compose.yml</span> <span class="pre">build</span></code></p></li>
<li><p>Run the tests using <code class="docutils literal notranslate"><span class="pre">docker-compose</span> <span class="pre">-f</span> <span class="pre">./testing/docker-compose.yml</span> <span class="pre">up</span> <span class="pre">--abort-on-container-exit</span></code>. Submissions must pass all tests!</p></li>
</ol>
</div></blockquote>
</li>
<li><p>The steps for self-evaluation are as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Open the Terminal (Mac) or Command Prompt (Windows) application and copy and paste the following commands into the window. Each time press &lt;Enter&gt; to run the command.</p>
<ul class="simple">
<li><p>Optional: Change into the Documents folder. When you open Terminal/Command you will likely be in the home (or ‘C://’ drive), but you can change to Documents with <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">Documents</span></code></p></li>
</ul>
</li>
<li><p>Clone the repository using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/cugriffinlab/your-username-gnomes.git</span></code></p></li>
<li><p>Change to the current working directory using <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">your-username-gnomes</span></code></p></li>
<li><p>Build the simulation using <code class="docutils literal notranslate"><span class="pre">docker-compose</span> <span class="pre">-f</span> <span class="pre">./sandbox/docker-compose.yml</span> <span class="pre">build</span></code></p></li>
<li><p>Run the simulation using <code class="docutils literal notranslate"><span class="pre">docker-compose</span> <span class="pre">-f</span> <span class="pre">./sandbox/docker-compose.yml</span> <span class="pre">up</span> <span class="pre">--abort-on-container-exit</span></code></p></li>
<li><p>The results of the simulation are in the folder <code class="docutils literal notranslate"><span class="pre">sandbox/outputs</span></code>.</p></li>
</ol>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="submitting-and-receiving-official-feedback">
<h2>Submitting and receiving official feedback<a class="headerlink" href="#submitting-and-receiving-official-feedback" title="Permalink to this headline">¶</a></h2>
<p>Your submission file must be updated and pushed to your repository in order to get official feedback. The official repository for the GNOMES competition will automatically evaluate all players’ submissions at 5AM Mountain Standard Time, if and only if their GitHub repositories are updated.</p>
<p>Check your score here! <a class="reference external" href="https://cugriffinlab.github.io/gnomes-admin/">https://cugriffinlab.github.io/gnomes-admin/</a></p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="Conceptual Overview of DRAGG" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rules.html" class="btn btn-neutral float-right" title="Competition Rules and Regulations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jacob Kravits.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>